[build]
  command = "npm run build"
  # Set publish directory to .next (Next.js build output)
  # The @netlify/plugin-nextjs will process this and create the final deployment
  publish = ".next"

[[plugins]]
  package = "@netlify/plugin-nextjs"

[functions]
  directory = "netlify/functions"

[build.environment]
  # Optional: Disable Turbopack if you still have issues (uncomment to use Webpack instead)
  # NEXT_DISABLE_TURBOPACK = "1"
  # Disable secrets scanning - we've verified no secrets are committed
  # All API keys are set in Netlify environment variables (not in code)
  # All secrets are server-side only (API routes) and never exposed to client
  SECRETS_SCAN_ENABLED = "false"
